// Generated by CoffeeScript 1.8.0
(function() {
  window.ScaleDance = (function() {
    function ScaleDance(smoothingFactor) {
      this.smoothingFactor = smoothingFactor;
      this.averageDb = 0;
    }

    ScaleDance.prototype.update = function(audioWindow, dancer) {
      var smoothingFactor;
      smoothingFactor = audioWindow.averageDb < this.averageDb ? this.smoothingFactor : Math.max(1, this.smoothingFactor * 4);
      this.averageDb = audioWindow.averageDb * smoothingFactor + (1 - smoothingFactor) * this.averageDb;
      return dancer.body.scale.set(this.averageDb, this.averageDb, this.averageDb);
    };

    ScaleDance.prototype.reset = function(dancer) {
      return dancer.body.scale.set(1, 1, 1);
    };

    return ScaleDance;

  })();

}).call(this);
